<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Reports</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<body>
    <div class="display-6 bg-dark p-3 text-white text-center">Detailed Test Report</div>
    <div>
        <table class="table table-success table-striped-columns" id="myTable">
          <tbody>
            <tr>
              <th style="position: centre;">Test Name</th>
            </tr>
            <% data['Fail_list'].map((fail) => { %>
              <tr class="table-danger">
                <td><%= fail %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>    
    </div>
    <div style="display: flex; justify-content: center;">
      <canvas id="myChart" style="width:100%; max-width:600px; display: flex; margin-top: 20px;"></canvas>
    </div>

<script>
var xValues = ["Passes", "Failed"];
var yValues = ["<%= data['Pass'] %>", "<%= data['Fail'] %>"];
var barColors = [
  "rgb(95, 243, 15)",
  "#E21818",
];

new Chart("myChart", {
  type: "doughnut",
  data: {
    labels: xValues,
    datasets: [{
      backgroundColor: barColors,
      data: yValues
    }],

  },
  options: {
    title: {
      display: true,
      text: "Total Tests",
    }
  }
});
</script>
</body>
</html>